---
title: Leetcode[260] Single Number III
date: 2020-04-28 21:42:18
urlname: single-num-III
categories:
- leetcode
tags:
- leetcode
- array
- bit
---
>[Leetcode 260. Single Number III](https://leetcode.com/problems/single-number-iii/)
题目：一个整型数组nums里除两个数字之外，其他数字都出现了两次。请写程序找出这两个只出现一次的数字。要求时间复杂度是O(n)，空间复杂度是O(1)。


<!--more-->

#### 思路
如果题目是找到数组中出现次数为1的唯一元素，那么通过一遍xor操作就能将重复的数置零。但是题目要的是两个数，怎么做呢，还是先亦或加，这样得到的是AxorB的结果，因为A！=B ，则必然有一位，A和B在这位上不同，找到第一个这个位，将数组中其他元素也按这个位是否为1进行切分，自然变成了两个只包含出现一个数只出现一次的子数组，那么再分别亦或加就能得到两个子数组中唯一的数。

#### 算法实现
```java
public int[] singleNumbers(int[] nums) {
        int res0 = 0, res1 = 0;
        int sum = 0;
        for (int num : nums) sum ^= num;
        int i = 0;
        while (i < 32) {
            if ((sum >> i & 1) == 1) break;
            i++;
        }
        if (i < 32) {
            for (int num : nums) {
                if ((num >> i & 1) == 1) res1 ^= num;
                else res0 ^= num;
            }
        }
        return new int[]{res0, res1};
    }
```

#### 附录
本题和主站260 是一样的. 除了这个，主站还有136和137，645。 总共加起来本系列一共四道题。 四道题全部都是位运算的套路，如果你想练习位运算的话，不要错过哦～～

- [Leetcode 136. Single Number](https://leetcode.com/problems/single-number/)
- [Leetcode 137. Single Number II](https://leetcode.com/problems/single-number-ii/)
- [Leetcode 260. Single Number III](https://leetcode.com/problems/single-number-iii/)
- [Leetcode 645. Set Mismatch](https://leetcode.com/problems/set-mismatch/)