---
title: leetcode[13] roman to integer
date: 2020-02-25 22:26:08
urlname: leetcodekeep
categories:
- leetcode
tags:
- leetcode
- easy
---

>[13. Roman to Integer](https://leetcode.com/problems/roman-to-integer/)
这道题其实有几个很精妙的解法，下面自己做的是一种很傻瓜式的方式
<!--more-->
```java
 public int romanToInt(String s) {
        Map<String, Integer> index = new HashMap<String, Integer>();
        index.put("I", 1);
        index.put("V", 5);
        index.put("X", 10);
        index.put("L", 50);
        index.put("C", 100);
        index.put("D", 500);
        index.put("M", 1000);

        // 特殊的组合
        index.put("IV", 4);
        index.put("IX", 9);
        index.put("XL", 40);
        index.put("XC", 90);
        index.put("CD", 400);
        index.put("CM", 900);

        char[] numbers = s.toCharArray();
        if (numbers.length == 1)
            return index.get(s);
        int i = 0;
        int current = 0;
        int result = 0;
        while (i < numbers.length) {
            if (i == numbers.length - 1) {
                result += index.get(String.valueOf(numbers[i]));
                i++;
            } else {
//                System.out.println("当前numbers[i]的值为：" + String.valueOf(numbers[i]));
                int x = index.get(String.valueOf(numbers[i]));
                int y = index.get(String.valueOf(numbers[i + 1]));
                int xy = index.get(s.substring(i, i + 2)) != null ? index.get(s.substring(i, i + 2)) : 0;
//                System.out.println("当前x的值为：" + x);
//                System.out.println("当前y的值为：" + y);
//                System.out.println("当前xy的值为：" + xy);


                if (xy > x && xy < y) {
                    current = xy;
                    result += current;
                    i += 2;
                } else {
                    result += x;
                    current = x;
                    i++;
                }

            }

        }


        return result;
    }
```
>再来一个python的解法，其实更简便，就是针对规则对代码结构进行优化，不用做这么多的映射
```python
class Solution:
    def romanToInt(self, s: str) -> int:
      romanToIntMap = {
          "I": 1,
          "V": 5,
          "X": 10,
          "L": 50,
          "C": 100,
          "D": 500,
          "M": 1000
      }
      value = 0
      tracker = [s[0]]
      for c in s: 
        if (c == "V" or c == "X") and (tracker[-1] == "I"):
          value += romanToIntMap[c] - 2 * romanToIntMap[tracker[-1]]
        elif (c == "L" or c == "C") and (tracker[-1] == "X"):
          value += romanToIntMap[c] - 2 * romanToIntMap[tracker[-1]]
        elif (c == "D" or c == "M") and (tracker[-1] == "C"):
          value += romanToIntMap[c] - 2 * romanToIntMap[tracker[-1]]
        else:
          value += romanToIntMap[c]
        tracker.append(c)
      return value
```
